# â€œæ•°å­—ä¹å›­â€ (Number Paradise) å¼€å‘è“å›¾

æœ¬æ–‡æ¡£ä¸ºâ€œæ•°å­—ä¹å›­â€å„¿ç«¥æ•°å­—å­¦ä¹ Webåº”ç”¨çš„å®Œæ•´å¼€å‘è“å›¾ï¼Œæ—¨åœ¨ä¸ºé¡¹ç›®ä»åˆå§‹åŒ–åˆ°éƒ¨ç½²çš„å…¨è¿‡ç¨‹æä¾›æ¸…æ™°ã€å¯æ‰§è¡Œçš„æŒ‡å¯¼ã€‚

## ä¸€ã€é¡¹ç›®æ ¸å¿ƒè®¾å®š

*   **é¡¹ç›®åç§°ï¼š** æ•°å­—ä¹å›­ (Number Paradise)
*   **å‰ç«¯æ¡†æ¶ï¼š** Vue 3 (ä½¿ç”¨ Vite)
*   **UIç»„ä»¶åº“ï¼š** TDesign Vue Next
*   **çŠ¶æ€ç®¡ç†ï¼š** Pinia
*   **æ ·å¼æ–¹æ¡ˆï¼š** Tailwind CSS
*   **éƒ¨ç½²æ¶æ„ï¼š** GitHub + Cloudflare Pages

---

## äºŒã€é˜¶æ®µä¸€ï¼šé¡¹ç›®åˆå§‹åŒ–ä¸ç¯å¢ƒæ­å»º

### 1. å‘½ä»¤è¡ŒæŒ‡ä»¤

**A. åˆ›å»ºé¡¹ç›®**
```bash
# ä½¿ç”¨Viteåˆ›å»ºåŸºäºVueå’ŒTypeScriptçš„é¡¹ç›®
npm create vite@latest number-paradise -- --template vue-ts
cd number-paradise
```

**B. å®‰è£…æ ¸å¿ƒä¾èµ–**
```bash
# å®‰è£…TDesign, Pinia, å’Œ TailwindCSS ç›¸å…³åŒ…
npm install tdesign-vue-next@latest pinia@latest tailwindcss@latest postcss@latest autoprefixer@latest
```

**C. å®‰è£…å¼€å‘ä¾èµ–**
```bash
# å®‰è£…ESLint, Prettier åŠç›¸å…³æ’ä»¶
npm install -D eslint prettier eslint-plugin-vue @typescript-eslint/parser @typescript-eslint/eslint-plugin @vue/eslint-config-prettier @vue/eslint-config-typescript prettier-plugin-tailwindcss
```

**D. åˆå§‹åŒ– Tailwind CSS**
```bash
# æ­¤å‘½ä»¤ä¼šç”Ÿæˆ tailwindcss.config.js å’Œ postcss.config.js æ–‡ä»¶
npx tailwindcss init -p
```

### 2. `package.json` æ ¸å¿ƒå†…å®¹

ä»¥ä¸‹æ˜¯é…ç½®å®Œæˆå `package.json` ä¸­ `dependencies` å’Œ `devDependencies` çš„ä¸€ä¸ªç¤ºä¾‹ã€‚

```json
{
  "dependencies": {
    "autoprefixer": "^10.4.19",
    "pinia": "^2.1.7",
    "postcss": "^8.4.38",
    "tailwindcss": "^3.4.3",
    "tdesign-vue-next": "^1.9.4",
    "vue": "^3.4.21"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^7.8.0",
    "@typescript-eslint/parser": "^7.8.0",
    "@vitejs/plugin-vue": "^5.0.4",
    "@vue/eslint-config-prettier": "^9.0.0",
    "@vue/eslint-config-typescript": "^13.0.0",
    "eslint": "^8.57.0",
    "eslint-plugin-vue": "^9.26.0",
    "prettier": "^3.2.5",
    "prettier-plugin-tailwindcss": "^0.5.14",
    "typescript": "^5.2.2",
    "vite": "^5.2.0"
  }
}
```

### 3. æ¨èé…ç½®æ–‡ä»¶

**A. `.eslintrc.cjs`**
```javascript
/* eslint-env node */
module.exports = {
  root: true,
  'extends': [
    'plugin:vue/vue3-essential',
    'eslint:recommended',
    '@vue/eslint-config-typescript',
    '@vue/eslint-config-prettier/skip-formatting'
  ],
  parserOptions: {
    ecmaVersion: 'latest'
  }
}
```

**B. `.prettierrc.json`**
```json
{
  "semi": false,
  "singleQuote": true,
  "plugins": ["prettier-plugin-tailwindcss"]
}
```

---

## ä¸‰ã€é˜¶æ®µäºŒï¼šé¡¹ç›®ç»“æ„ä¸ç»„ä»¶è®¾è®¡

### 1. æ¨èç›®å½•ç»“æ„

```
number-paradise/
â”œâ”€â”€ public/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ assets/         # å­˜æ”¾å›¾ç‰‡ã€å­—ä½“ç­‰é™æ€èµ„æº
â”‚   â”‚   â””â”€â”€ images/
â”‚   â”œâ”€â”€ components/     # å…¨å±€å¯å¤ç”¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ NumberCard.vue
â”‚   â”‚   â”œâ”€â”€ GameItem.vue
â”‚   â”‚   â”œâ”€â”€ QuizOption.vue
â”‚   â”‚   â””â”€â”€ ProgressBar.vue
â”‚   â”œâ”€â”€ pages/          # é¡µé¢çº§ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ HomePage.vue
â”‚   â”‚   â”œâ”€â”€ NumberCognitionPage.vue
â”‚   â”‚   â”œâ”€â”€ CountingGamePage.vue
â”‚   â”‚   â”œâ”€â”€ ArithmeticQuizPage.vue
â”‚   â”‚   â””â”€â”€ BadgeWall.vue
â”‚   â”œâ”€â”€ router/         # Vue Routeré…ç½®
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”œâ”€â”€ store/          # PiniaçŠ¶æ€ç®¡ç†
â”‚   â”‚   â””â”€â”€ game.ts
â”‚   â”œâ”€â”€ styles/         # å…¨å±€æ ·å¼åŠTailwindå…¥å£
â”‚   â”‚   â””â”€â”€ main.css
â”‚   â”œâ”€â”€ App.vue         # æ ¹ç»„ä»¶
â”‚   â”œâ”€â”€ main.ts         # åº”ç”¨å…¥å£
â”‚   â””â”€â”€ Layout.vue      # ä¸»å¸ƒå±€ç»„ä»¶
â””â”€â”€ ... (å…¶ä»–é…ç½®æ–‡ä»¶)
```

### 2. æ ¸å¿ƒç»„ä»¶å±‚çº§

```mermaid
graph TD
    A[App.vue] --> B[Layout.vue];
    B --> C[HomePage.vue];
    B --> D[NumberCognitionPage.vue];
    B --> E[CountingGamePage.vue];
    B --> F[ArithmeticQuizPage.vue];
    B --> G[BadgeWall.vue];

    D --> H[NumberCard.vue];
    E --> I[GameItem.vue];
    E --> J[ProgressBar.vue];
    F --> K[QuizOption.vue];
    F --> J;

    subgraph "æ ¸å¿ƒé¡µé¢"
        C; D; E; F; G;
    end

    subgraph "å¯å¤ç”¨ç»„ä»¶"
        H; I; K; J;
    end

    style A fill:#f9f,stroke:#333,stroke-width:2px
    style B fill:#ccf,stroke:#333,stroke-width:2px
```

### 3. `<CountingGamePage.vue>` é«˜è´¨é‡ä»£ç ç¤ºä¾‹

æ­¤ç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•ç»“åˆ Vue 3 `<script setup>`, Pinia, å’Œ Tailwind CSS æ¥åˆ›å»ºä¸€ä¸ªæ ¸å¿ƒäº¤äº’é¡µé¢ã€‚

```vue
<!-- src/pages/CountingGamePage.vue -->
<template>
  <div class="flex h-screen w-full items-center justify-center bg-blue-100 font-sans">
    <div class="w-full max-w-2xl rounded-2xl bg-white p-8 shadow-lg transition-transform hover:scale-105">
      <!-- æ¸¸æˆæ ‡é¢˜ -->
      <h1 class="mb-4 text-center text-4xl font-bold text-blue-600">æ•°ä¸€æ•°æœ‰å¤šå°‘ä¸ª ğŸï¼Ÿ</h1>

      <!-- æ¸¸æˆåŒºåŸŸ -->
      <div class="my-8 grid min-h-[200px] grid-cols-5 gap-4 rounded-lg bg-gray-50 p-6">
        <div v-for="n in itemsToCount" :key="n" class="flex animate-bounce items-center justify-center text-5xl">
          ğŸ
        </div>
      </div>

      <!-- ç­”æ¡ˆé€‰æ‹©åŒºåŸŸ -->
      <div class="mb-6 flex justify-center space-x-4">
        <button
          v-for="option in answerOptions"
          :key="option"
          @click="selectAnswer(option)"
          :class="[
            'flex h-16 w-16 items-center justify-center rounded-full text-2xl font-bold text-white shadow-md transition-all',
            selectedAnswer === option ? 'scale-110 ring-4 ring-yellow-400' : '',
            'bg-green-500 hover:bg-green-600'
          ]"
        >
          {{ option }}
        </button>
      </div>

      <!-- æ“ä½œä¸åé¦ˆ -->
      <div class="text-center">
        <button
          @click="checkAnswer"
          class="rounded-lg bg-blue-500 px-8 py-3 text-xl font-semibold text-white shadow-sm transition-transform hover:scale-105 disabled:cursor-not-allowed disabled:bg-gray-400"
          :disabled="selectedAnswer === null"
        >
          æ£€æŸ¥ç­”æ¡ˆ
        </button>
        <p v-if="feedbackMessage" class="mt-4 text-2xl font-semibold" :class="isCorrect ? 'text-green-500' : 'text-red-500'">
          {{ feedbackMessage }}
        </p>
      </div>
    </div>
  </div>
</template>

<script setup lang="ts">
import { ref, onMounted } from 'vue'
import { useGameStore } from '../store/game'

// ä½¿ç”¨Pinia Store
const gameStore = useGameStore()

// ç»„ä»¶å†…éƒ¨çŠ¶æ€
const itemsToCount = ref(0)
const answerOptions = ref<number[]>([])
const selectedAnswer = ref<number | null>(null)
const feedbackMessage = ref('')
const isCorrect = ref(false)

// ç”Ÿæˆæ–°æ¸¸æˆ
const setupNewGame = () => {
  // å®é™…æ•°é‡ (ä¾‹å¦‚ï¼Œ3åˆ°8ä¹‹é—´)
  const actualCount = Math.floor(Math.random() * 6) + 3
  itemsToCount.value = actualCount

  // ç”Ÿæˆç­”æ¡ˆé€‰é¡¹
  const options = new Set<number>()
  options.add(actualCount)
  while (options.size < 4) {
    const randomOption = Math.max(1, actualCount + Math.floor(Math.random() * 5) - 2)
    options.add(randomOption)
  }
  answerOptions.value = Array.from(options).sort((a, b) => a - b)

  // é‡ç½®çŠ¶æ€
  selectedAnswer.value = null
  feedbackMessage.value = ''
  isCorrect.value = false
}

// é€‰æ‹©ç­”æ¡ˆ
const selectAnswer = (option: number) => {
  selectedAnswer.value = option
}

// æ£€æŸ¥ç­”æ¡ˆ
const checkAnswer = () => {
  if (selectedAnswer.value === null) return

  if (selectedAnswer.value === itemsToCount.value) {
    feedbackMessage.value = 'å¤ªæ£’äº†ï¼Œå®Œå…¨æ­£ç¡®ï¼'
    isCorrect.value = true
    gameStore.incrementScore(10) // ç­”å¯¹åŠ 10åˆ†
    // å»¶è¿Ÿ1.5ç§’å¼€å§‹æ–°æ¸¸æˆ
    setTimeout(setupNewGame, 1500)
  } else {
    feedbackMessage.value = 'å“å‘€ï¼Œå†è¯•ä¸€æ¬¡å§ï¼'
    isCorrect.value = false
  }
}

// ç»„ä»¶æŒ‚è½½æ—¶å¼€å§‹ç¬¬ä¸€å±€æ¸¸æˆ
onMounted(() => {
  setupNewGame()
})
</script>
```

---

## å››ã€é˜¶æ®µä¸‰ï¼šæ ¸å¿ƒåŠŸèƒ½é€»è¾‘å®ç°

### 1. Pinia Store ç¤ºä¾‹ (`src/store/game.ts`)

```typescript
import { defineStore } from 'pinia'

export const useGameStore = defineStore('game', {
  state: () => ({
    currentScore: 0,
    badges: [] as string[],
    level: 1,
  }),

  getters: {
    badgeCount: (state) => state.badges.length,
    canLevelUp: (state) => state.currentScore > state.level * 100,
  },

  actions: {
    incrementScore(points: number) {
      this.currentScore += points
    },
    addBadge(badgeName: string) {
      if (!this.badges.includes(badgeName)) {
        this.badges.push(badgeName)
      }
    },
    levelUp() {
      if (this.canLevelUp) {
        this.level++
        this.addBadge(`ç­‰çº§ ${this.level} å¤§å¸ˆ`)
      }
    },
    resetGame() {
      this.currentScore = 0
      this.badges = []
      this.level = 1
    },
  },
})
```

### 2. æ ¸å¿ƒæ¸¸æˆé€»è¾‘å‡½æ•°ç¤ºä¾‹ (`src/utils/gameLogic.ts`)

```typescript
interface GameItem {
  name: string;
  emoji: string;
}

const ITEM_POOL: GameItem[] = [
  { name: 'è‹¹æœ', emoji: 'ğŸ' },
  { name: 'é¦™è•‰', emoji: 'ğŸŒ' },
  { name: 'æ˜Ÿæ˜Ÿ', emoji: 'â­' },
  { name: 'æ°”çƒ', emoji: 'ğŸˆ' },
  { name: 'å°æ±½è½¦', emoji: 'ğŸš—' },
];

/**
 * ç”Ÿæˆä¸€ä¸ªæ•°æ•°æ¸¸æˆé¢˜ç›®
 * @param level å½“å‰æ¸¸æˆéš¾åº¦ç­‰çº§
 * @returns åŒ…å«é¢˜ç›®ä¿¡æ¯çš„å¯¹è±¡
 */
export function generateCountingGame(level: number) {
  const maxCount = 5 + level * 2;
  const minCount = 1 + level;
  
  const randomItem = ITEM_POOL[Math.floor(Math.random() * ITEM_POOL.length)];
  const correctCount = Math.floor(Math.random() * (maxCount - minCount + 1)) + minCount;
  
  const options = new Set<number>();
  options.add(correctCount);
  while (options.size < 4) {
    const randomOffset = Math.floor(Math.random() * 5) - 2;
    const randomOption = Math.max(1, correctCount + randomOffset);
    options.add(randomOption);
  }
  
  return {
    item: randomItem,
    count: correctCount,
    options: Array.from(options).sort((a, b) => a - b),
  };
}
```

---

## äº”ã€é˜¶æ®µå››ï¼šéƒ¨ç½²ä¸æŒç»­é›†æˆ

### 1. åˆå§‹åŒ–Gitå¹¶æ¨é€åˆ°GitHub

1.  **åˆå§‹åŒ–æœ¬åœ°ä»“åº“**
    ```bash
    git init
    git add .
    git commit -m "ğŸ‰ Initial commit: Setup project structure and dependencies"
    ```
2.  **åœ¨GitHubåˆ›å»ºæ–°ä»“åº“**
    è®¿é—® [GitHub](https://github.com/new) å¹¶åˆ›å»ºä¸€ä¸ªæ–°çš„ç©ºä»“åº“ (ä¾‹å¦‚ `number-paradise`)ã€‚

3.  **å…³è”å¹¶æ¨é€**
    ```bash
    # å°† <YOUR_GITHUB_USERNAME> æ›¿æ¢ä¸ºä½ çš„GitHubç”¨æˆ·å
    git remote add origin https://github.com/<YOUR_GITHUB_USERNAME>/number-paradise.git
    git branch -M main
    git push -u origin main
    ```

### 2. åœ¨Cloudflare Pagesä¸Šéƒ¨ç½²

1.  **ç™»å½•Cloudflare** å¹¶å¯¼èˆªè‡³ **Workers & Pages**ã€‚
2.  ç‚¹å‡» **Create application** > **Pages** > **Connect to Git**ã€‚
3.  æˆæƒå¹¶é€‰æ‹©ä½ çš„ `number-paradise` GitHubä»“åº“ã€‚
4.  åœ¨ **Set up builds and deployments** é¡µé¢ï¼Œç¡®è®¤ä»¥ä¸‹é…ç½®ï¼š
    *   **Framework preset:** `Vite`
    *   **Build command:** `npm run build`
    *   **Build output directory:** `dist`
5.  ç‚¹å‡» **Save and Deploy**ã€‚

éƒ¨ç½²å®Œæˆåï¼Œä½ çš„åº”ç”¨å°†é€šè¿‡ä¸€ä¸ª `*.pages.dev` åŸŸåå…¨çƒå¯ç”¨ã€‚åç»­æ¨é€åˆ° `main` åˆ†æ”¯å°†è§¦å‘è‡ªåŠ¨æ›´æ–°ã€‚
